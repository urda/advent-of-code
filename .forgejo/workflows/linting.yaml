name: Advent of Code - Linting

on:
  push:
    branches:
      - master
      - private-master

jobs:
  linting:
    runs-on: docker
    container:
      image: python:3.14.1-slim

    steps:
      - name: Show runner name ğŸƒ
        run: echo "Running on ${URDA_RUNNER_NAME}"

      - name: Install base tools âš™ï¸
        run: |
          set -eux
          apt-get update
          apt-get install -y build-essential git nodejs
          rm -rf /var/lib/apt/lists/*

      # https://github.com/actions/checkout/releases
      - name: Checkout â¬‡ï¸
        uses: actions/checkout@v6
        env:
          GIT_SSL_NO_VERIFY: "true"

      - name: Environment Report ğŸ”
        run: |
            echo Python Version ... $(python --version)

      - name: Install dependencies âš™ï¸
        working-directory: ./aoc
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt

      - name: Run linting ğŸ§ª
        working-directory: ./aoc
        run: make lint
