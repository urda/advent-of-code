########################################################################################################################
# Variables
########################################################################################################################

PYTHON_PATH = ./src/

########################################################################################################################
# `make help` Needs to be first so it is ran when just `make` is called
########################################################################################################################

.PHONY: help
help: # Show this help screen
	@ack '^[a-zA-Z_-]+:.*?# .*$$' ${MAKEFILE_LIST} |\
	sort -k1,1 |\
	awk 'BEGIN {FS = ":.*?# "}; {printf "\033[1m%-30s\033[0m %s\n", $$1, $$2}'

.PHONY: clean
clean: # Clean project files
	find . | grep -E "(.pytest_cache|__pycache__|\.pyc|\.pyo$$)" | xargs rm -rf && \
	:

########################################################################################################################

.PHONY: run
run: # Run the CLI App
	./src/main.py

.PHONY: test
test: # Run tests
	PYTHONPATH=$(PYTHON_PATH) pytest ./tests/
